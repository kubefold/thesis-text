\chapter{Zagadnienie teoretyczne}


\section{Problem przewidywania konformacji białek}
Przewidywanie konformacji białek to kluczowy problem biologii obliczeniowej~\cite{alphafold3}, który polega na określeniu trójwymiarowej struktury białka na podstawie sekwencji aminokwasów.
Struktura przestrzenna białka bezpośrednio wpływa na jego funkcję biologiczną, a dokładne przewidywanie konformacji pozwala zrozumieć mechanizmy działania białek oraz projektować nowe leki.
Jest to zadanie trudne ze względu na ogromną liczbę możliwych konformacji oraz złożone oddziaływania między atomami.
Problem ten staje się szczególnie istotny dla białek, których struktury nie udało się wyznaczyć metodami eksperymentalnymi ze względu na trudności techniczne.
Zastosowanie przewidywanych struktur w medycynie spersonalizowanej oraz farmacji stanowi jeden z najbardziej obiecujących kierunków rozwoju współczesnej biotechnologii.

\subsection{Kodowanie trójwymiarowej struktury białka}
Aminokwasy w łańcuchu polipeptydowym kodują strukturę przestrzenną białka poprzez swoją sekwencję i właściwości fizykochemiczne.
Każdy aminokwas ma specyficzne cechy, takie jak hydrofobowość, ładunek elektryczny czy wielkość, które determinują możliwe oddziaływania i ułożenie w przestrzeni~\cite{protein_folding}.
Sposób ułożenia aminokwasów w przestrzeni jest zapisany w tak zwanym kodzie konformacyjnym, który opisuje różne poziomy organizacji struktury białka.

Strukturę przestrzenną białka opisuje się na kilku hierarchicznych poziomach organizacji:

\begin{itemize}
    \item Struktura pierwszorzędowa-liniowa sekwencja aminokwasów połączonych wiązaniami peptydowymi, która zawiera pełną informację niezbędną do uformowania struktury natywnej
    \item Struktura drugorzędowa-lokalne motywy strukturalne powstające dzięki wiązaniom wodorowym między grupami peptydowymi, takie jak helisy alfa i harmonijki beta
    \item Struktura trzeciorzędowa-globalne ułożenie całego łańcucha polipeptydowego stabilizowane różnymi oddziaływaniami między aminokwasami
    \item Struktura czwartorzędowa-sposób asocjacji kilku łańcuchów polipeptydowych w funkcjonalny kompleks białkowy
\end{itemize}

\subsection{Krystalografia rentgenowska}
Krystalografia rentgenowska to podstawowa metoda doświadczalna określania struktury białek~\cite{xray_crystallography}, która polega na analizie dyfrakcji promieni rentgenowskich na krysztale białka.
Promienie rentgenowskie rozpraszają się na elektronach atomów tworzących białko, a wzór dyfrakcyjny jest rejestrowany i analizowany matematycznie.
Na tej podstawie tworzy się mapa gęstości elektronowej, której analiza wymaga zastosowania złożonych algorytmów matematycznych i wiedzy z zakresu krystalografii.
Interpretacja map gęstości elektronowej stanowi wyzwanie wymagające często ręcznego dopasowania modelu białka przez doświadczonych badaczy.

Proces krystalizacji białka jest często najtrudniejszym etapem, wymagającym znacznych nakładów finansowych i zaawansowanej infrastruktury laboratoryjnej.

\subsection{Komputerowe metody obliczania konformacji białka}
Metody komputerowe przewidywania struktury białek dzielą się na kilka głównych kategorii, wśród których metody oparte na homologii wykorzystują podobieństwo sekwencji do białek o znanej strukturze.
Metody ab initio próbują przewidywać strukturę wyłącznie na podstawie sekwencji i praw fizyki~\cite{ab_initio_protein_folding}, podczas gdy metody fold recognition dopasowują sekwencję do znanych motywów strukturalnych.
Każda z tych metod ma swoje ograniczenia i najlepiej sprawdza się w określonych warunkach, zależnie od dostępności danych referencyjnych.
Hybrydy tych metod często dają lepsze wyniki niż pojedyncze podejścia, łącząc zalety różnych technik przewidywania.

Tradycyjne podejścia obliczeniowe obejmują symulacje dynamiki molekularnej i metody Monte Carlo, które wykorzystują pola siłowe opisujące oddziaływania między atomami.
Obliczenia te są bardzo kosztowne obliczeniowo i często ograniczone do małych białek, jednak w ostatnich latach metody uczenia maszynowego i głębokiego odniosły znaczący sukces w tym obszarze.
Postęp w sprzęcie obliczeniowym, szczególnie w obszarze akceleratorów GPU i specjalizowanych procesorów tensorowych, znacząco przyspieszył obliczenia struktur białkowych.
Rozwój infrastruktury chmurowej umożliwił demokratyzację dostępu do zaawansowanych narzędzi bioinformatycznych.

Przełomem w dziedzinie było opracowanie algorytmu AlphaFold przez firmę Google DeepMind, który wykorzystuje sieci neuronowe do przewidywania struktury białek z dokładnością porównywalną do metod eksperymentalnych.
AlphaFold2 zrewolucjonizował dziedzinę, wygrywając konkurs CASP14~\cite{casp} (Critical Assessment of protein Structure Prediction) w 2020 roku~\cite{alphafold2}.
Metody oparte na uczeniu głębokim znacząco przyspieszyły tempo odkryć naukowych w biologii strukturalnej, a publiczne udostępnienie modelu AlphaFold umożliwiło badaczom na całym świecie wykorzystanie tej technologii w projektach badawczych i medycznych.
Integracja wyników AlphaFold z innymi technikami bioinformatycznymi otworzyła nowe możliwości w analizie interakcji białko-białko i projektowaniu leków.
Najnowsza wersja algorytmu-AlphaFold 3 - osiąga dokładność przewidywania struktury białek na poziomie 90--95\% w przypadku pojedynczych łańcuchów polipeptydowych, a dla kompleksów białkowych dokładność sięga 80--85\%, co stanowi znaczący postęp w porównaniu do poprzednich wersji~\cite{alphafold3}.

\section{Algorytm AlphaFold firmy Google Deepmind}

\subsection{Informacje wstępne}

\subsection{Implementacja algorytmu}

\subsection{Omówienie działania programu}

\subsection{Wymagane zasoby obliczeniowe}


\section{Obliczenia w klastrze obliczeniowym}

\subsection{Platforma Kubernetes}

Kubernetes to otwarte oprogramowanie do orkiestracji kontenerów, które automatyzuje wdrażanie, skalowanie i zarządzanie aplikacjami~\cite{kubernetes}.
Jest obecnie głównym rozwiązaniem w obszarze zarządzania klastrami obliczeniowymi.
Kubernetes wywodzi się z wewnętrznego projektu Google o nazwie Borg, który został udostępniony jako projekt open-source w 2014 roku.

Głównym celem Kubernetes jest zapewnienie platformy do uruchamiania aplikacji w środowisku rozproszonym.
System umożliwia automatyczne zarządzanie zasobami obliczeniowymi w heterogenicznym środowisku sprzętowym, obejmującym różne architektury procesorów oraz dedykowane akceleratory obliczeniowe.
Kubernetes eliminuje wiele ręcznych procesów związanych z wdrażaniem i skalowaniem aplikacji kontenerowych.
Wszystkie komponenty klastra są kontrolowane deklaratywnie.

Architektura Kubernetes opiera się na modelu węzeł główny-węzeł roboczy (z ang. \textit{master-worker}).
Główny komponent kontrolny (z ang. \textit{control plane}) zarządza węzłami roboczymi, na których uruchamiane są faktyczne aplikacje w kontenerach.
Każdy klaster Kubernetes składa się z co najmniej jednego węzła głównego i wielu węzłów roboczych.
Ta architektura zapewnia wysoką dostępność i odporność na awarie.

Model zasobów w Kubernetes jest deklaratywny.
Pod (z ang. \textit{Pod}) jest podstawową jednostką wdrożeniową w Kubernetes, reprezentującą jeden lub więcej kontenerów, które współdzielą zasoby i są zawsze uruchamiane na tym samym węźle klastra.
Po załadowaniu pliku konfiguracyjnego w formacie YAML, Kubernetes będzie dążył do doprowadzenia stanu faktycznego klastra do stanu zadeklarowanego w konfiguracji.
Przykład deklaracji zasobu Wdrożenie (z ang. \textit{Deployment}) przedstawiony w listingu~\ref{lst:kube-deployment} zawiera komentarze objaśniające kluczowe elementy:

\begin{lstlisting}[language=yaml,caption={Przykładowa deklaracja wdrożenia w Kubernetes},label={lst:kube-deployment}]
apiVersion: apps/v1
# Typ zasobu Kubernetes
kind: Deployment 
metadata:
  name: nginx-deployment
  labels:
    app: nginx
spec:
  # Liczba replik (kopii) podu do uruchomienia
  replicas: 3
  # Selektor określający które pody należą do wdrożenia
  selector:
    matchLabels:
      app: nginx
  # Szablon definiujący specyfikację podów
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      # Definicja kontenera do uruchomienia
      - name: nginx
        image: nginx:1.14.2
        ports:
        - containerPort: 80  # Port nasłuchiwania w kontenerze
\end{lstlisting}

Kubernetes wprowadza abstrakcję warstwy infrastruktury.
Dzięki temu aplikacje mogą być przenoszone między różnymi dostawcami chmury bez konieczności modyfikacji kodu.
Platforma wspiera różne środowiska uruchomieniowe, od lokalnych klastrów, przez chmury prywatne, aż po głównych dostawców chmury publicznej.

Kluczowe możliwości Kubernetes obejmują:
\begin{itemize}
    \item Automatyczne przywracanie aplikacji w przypadku awarii
    \item Równoważenie obciążenia i dystrybucję ruchu sieciowego
    \item Automatyczne skalowanie poziome aplikacji w zależności od obciążenia
    \item Zarządzanie konfiguracją i sekretami
    \item Zarządzanie trwałym magazynem danych
    \item Batch execution dla zadań wsadowych i harmonogramowanie obliczeń
\end{itemize}

Kubernetes został zaprojektowany jako platforma rozszerzalna.
Pozwala na tworzenie własnych kontrolerów i operatorów dostosowanych do specyficznych potrzeb.
Ta możliwość rozszerzania jest kluczowa dla projektu KubeFold, który wykorzystuje te mechanizmy do orkiestracji złożonych zadań przewidywania konformacji białek.

\subsection{Architektura i komponenty klastra Kubernetes}

\subsection{Dostępne zasoby w klastrze obliczeniowym}

\subsubsection{Pod}

\subsubsection{Job}

\subsubsection{PersistentVolume}

\subsubsection{PersistentVolumeClaim}

\subsubsection{StorageClass}

\subsection{Klastry Kubernetes w chmurze}

\subsection{Zarządzana usługa Kubernetes w Amazon Web Services}

\subsection{Wolumeny Lustre}

\subsection{Magazyn obiektów Amazon S3}

\subsection{Usługa AWS End User Messaging}


\section{Koncepcja operatora klastra}

\subsection{Architektura operatora klastra}

\subsection{Język programowania Go}